Title: Realm: an incredible fast mobile DB
Summary: Realm is a really nice database created to run as a local storage for Android and iOS apps with an incredible speed. However, it has some limitations that you need to know before using it.
Tags: Android, iOS
Date: NOV 01, 2015
URL: realm-an-incredible-fast-mobile-db

## Realm

Realm is a database designed for mobile platforms (Android and iOS). If you want to store just some user data and configurations, skip it. Instead, use simpler solutions like [Shared Preferences](http://developer.android.com/guide/topics/data/data-storage.html#pref) (Android) or [NSUserDefaults](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/index.html) (iOS).

However, if your app needs to constantly retrieve data from the internet, you can help the user to reduce its mobile data usage costs by caching some info. Also, with cache, the user can use your app even when he's not connected. That's where Realm comes in.

Realm is not an ORM framework, but a database that have ORM support. If you need performance, forget SQLite or Code Data. Realm uses its own persistence engine to be blazing fast.

[![twitter](http://zanon.io/images/posts/2015-11-01-twitter.png)](https://twitter.com/kandelvijaya/status/642203225970487296)
[![benchmark](http://zanon.io/images/posts/2015-11-01-benchmark.png)](http://www.slideshare.net/ChristianMelchior/realm-building-a-mobile-database#25)

## What it supports

Like any relational database, it supports primary and foreign keys, indexes, transactions and all CRUD operations. As any ORM framework, lazy queries, ignored properties and migrations are supported. Also, graph queries and encryption are nice features available.

For a full list, you can take a look into the docs summary for [Java](https://realm.io/docs/java/latest/), [Swift](https://realm.io/docs/swift/latest) or [Objective-C](https://realm.io/docs/objc/latest/).

## Limitations

Realm is great. Really great. But this section highlights what are Realm's drawbacks and what features they are currently lacking.

### Support to NULL values

Ok, [now](https://realm.io/news/realm-objc-swift-0.96.0/) Realm have support for NULLs! It was released for iOS and is currently [in beta](https://github.com/realm/realm-java/issues/478) for Android.

A property that accepts NULLs is something very common and it was a bit sad to see that Realm didn't support it for a long time. Common solutions were to treat the default values as the same as a NULL or to add an additional boolean to point if its a NULL or not.

### Distinct

Realm doesn't have a "group by" operator, but it have "aggregation" operators like *min*, *max*, *count*, *sum* and *avg*. However, as a group by is not available, you can't use distinct [yet](https://groups.google.com/forum/#!topic/realm-java/5KsLCxQTcd0). You need to do it [manually](http://stackoverflow.com/a/30246541/1476885).

### Nested Transactions

Nested transactions are a "must-have" in some cases to ensure consistency. As Realm lacks support for this, you may end up writing a little more code and maybe [detaching objects](http://stackoverflow.com/a/31708821/1476885) before being ready to commit.

### Migrations

I can't say that Realm doesn't have migrations. It has. However, I believe that its the hardest feature to learn and to use. As it is essential for the app life cycle, you may try this with a POC before adding Realm  to your project. [Some may even give up](https://medium.com/@rutvijshah/why-i-did-not-choose-realm-io-for-my-android-app-f44562af5fb0) after trying to understand the documentation.

### Getters and Setters (Android)

After designing your model, you have to write the Getters and Setters for each property. The bad part is that you can't add any other method and if you add validations or checks to your Getters/Setters, you will lose them since Realm replaces them with proxies that will ignore what you've done.

To workaround this, you may end up writing wrappers for each model class to be able to add business rules to ensure your constraints.

## Overall

Realm is a great mobile database. As it has not achieved a 1.0 version yet and there are many features under development, stay tuned to the [official website](https://realm.io/) for updates!